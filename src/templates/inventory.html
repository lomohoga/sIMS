{% extends "base.html" %}

{% block main %}
<!-- session['user'] = (role_id, username, password, firstName, lastName, role_name) of the CURRENT user -->
<div id="content-top">
    <h1 class="main-header">Inventory</h1>

    {% if session['user'][0] == 1 %}
        <a class="btn" href="{{ url_for('add_items') }}">Add items</a>
        <a class="btn" href="{{ url_for('remove_items') }}">Remove items</a>
    {% else %}
        <a class="btn" href="{{ url_for('request_items') }}">Request items</a>
    {% endif %}

    <form id="search">
        <input type="search" id="search-box" placeholder="Search item&hellip;" name="keyword" autofocus>
        <input type="submit" id="search-btn" value="Search" name="search-btn">
    </form>
</div>

<div class="table-wrapper inventory-table">
    <div class="table-main">
        <div class="table-header">
            <div class="table-row">
                <div>Code</div>
                <div>Name</div>
                <div>Description</div>
                <div><span>Shelf Life<br><span style="font-weight: initial; font-style: italic; font-size: 80%;">(in hours)</span></span></div>
                <div>Unit Price</div>
                <div>Available Quantity</div>
                <div>Unit</div>
            </div>
        </div>
        <div class="table-body">
            <div class="table-loading table-row hide">
                <div>Please wait&hellip;</div>
            </div>
            <div class="table-empty table-row hide">
                <div>No items found.</div>
            </div>
        </div>
    </div>
</div>

<script>
    document.querySelector("#search").addEventListener("submit", e => {
        e.preventDefault();
        populateTable(document.querySelector(".inventory-table .table-body"), document.querySelector("#search-box").value);
    });

    window.addEventListener("load", () => populateTable(document.querySelector(".inventory-table .table-body")));
</script>

{% endblock %}
